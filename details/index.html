<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dismech - Project Details</title>
    <style>
        :root {
            --primary: #0f766e;
            --primary-light: #14b8a6;
            --primary-dark: #0d5c56;
            --accent: #6366f1;
            --bg: #f0fdfa;
            --surface: #ffffff;
            --text: #134e4a;
            --text-light: #5f7a78;
            --border: #ccfbf1;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
        }

        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 60%, var(--accent) 100%);
            color: #fff;
            padding: 56px 24px 64px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.4rem;
            margin-bottom: 10px;
        }

        .hero p {
            font-size: 1.05rem;
            opacity: 0.92;
            max-width: 820px;
            margin: 0 auto 24px;
        }

        .hero-actions {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-block;
            text-decoration: none;
            padding: 12px 18px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.96rem;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #fff;
            color: var(--primary-dark);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
        }

        .btn-secondary {
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.45);
            background: rgba(255, 255, 255, 0.13);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 36px 20px 56px;
        }

        .section {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 24px;
            margin-bottom: 18px;
        }

        .section h2 {
            font-size: 1.35rem;
            margin-bottom: 10px;
        }

        .section h3 {
            font-size: 1.05rem;
            margin-top: 14px;
            margin-bottom: 8px;
        }

        .section p {
            color: var(--text-light);
        }

        .section p + p {
            margin-top: 10px;
        }

        .small {
            font-size: 0.9rem;
        }

        .muted {
            color: var(--text-light);
        }

        ul, ol {
            padding-left: 20px;
            color: var(--text-light);
        }

        li + li {
            margin-top: 6px;
        }

        code, pre {
            font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
            font-size: 0.9rem;
        }

        pre {
            margin-top: 10px;
            background: #062723;
            color: #d8faf6;
            padding: 14px;
            border-radius: 10px;
            overflow-x: auto;
        }

        a {
            color: var(--primary-dark);
        }

        .toc {
            display: grid;
            gap: 8px;
            margin-top: 10px;
        }

        .toc a {
            text-decoration: none;
            color: var(--primary-dark);
            font-weight: 600;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 14px;
        }

        .kpi {
            background: #ecfdf5;
            border: 1px solid #99f6e4;
            border-radius: 10px;
            padding: 12px;
        }

        .kpi .label {
            display: block;
            font-size: 0.8rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }

        .kpi .value {
            display: block;
            margin-top: 4px;
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--text);
        }

        .detail-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.95rem;
        }

        .detail-table th,
        .detail-table td {
            border: 1px solid var(--border);
            padding: 10px;
            vertical-align: top;
            text-align: left;
        }

        .detail-table th {
            background: #f0fdfa;
            color: var(--text);
        }

        .callout {
            margin-top: 12px;
            padding: 12px 14px;
            border-radius: 10px;
            border: 1px solid #a7f3d0;
            background: #ecfdf5;
            color: var(--text);
            font-size: 0.95rem;
        }

        .toc-grid {
            margin-top: 12px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 8px;
        }

        .toc-grid a {
            text-decoration: none;
            border: 1px solid var(--border);
            border-radius: 9px;
            padding: 8px 10px;
            background: #f8fffd;
            color: var(--primary-dark);
            font-weight: 600;
            font-size: 0.93rem;
        }

        .toc-grid a:hover {
            background: #ecfdf5;
        }

        .repo-grid {
            margin-top: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 10px;
        }

        .repo-card {
            border: 1px solid var(--border);
            border-radius: 10px;
            background: #f8fffd;
            padding: 11px 12px;
        }

        .repo-card h3 {
            margin-top: 0;
            margin-bottom: 4px;
            font-size: 0.98rem;
        }

        .repo-card code {
            display: inline-block;
            margin-bottom: 4px;
        }

        .flow-list {
            margin-top: 10px;
        }

        .flow-list li {
            margin-bottom: 8px;
        }

        .source-map td:first-child {
            white-space: nowrap;
            width: 1%;
            font-weight: 600;
            color: var(--text);
        }

        .footer {
            text-align: center;
            padding: 26px 20px 34px;
            color: var(--text-light);
            font-size: 0.92rem;
        }
    </style>
</head>
<body>
    <header class="hero">
        <h1>Dismech Project Details</h1>
        <div class="hero-actions">
            <a class="btn btn-primary" href="../app/index.html">Browse Disorders</a>
            <a class="btn btn-secondary" href="../index.html">Back to Home</a>
            <a class="btn btn-secondary" href="https://docs.google.com/presentation/d/1XrbLle8gVQQcoT8IzpIfll4VnUl_68mQVTa6cIzN2vs/edit?usp=sharing" target="_blank" rel="noopener noreferrer">Presentation Slides</a>
        </div>
    </header>

    <main class="container">
        <section class="section" id="orientation">
            <h2>Quick Navigation</h2>
            <div class="toc-grid">
                <a href="#science-curation">What is Dismech?</a>
                <a href="#technical-implementation">Technical Implementation</a>
            </div>
        </section>

        <section class="section" id="science-curation">
            <h2>What is Dismech?</h2>
            <p>
                Dismech is a disease mechanisms knowledge base with structured assertions linked to evidence and ontology terms.
                This section focuses on what users can explore and how curators maintain scientific quality.
            </p>

            <h3>Primary Resources</h3>
            <div class="toc">
                <a href="../index.html">Main project site</a>
                <a href="../app/index.html">Disorder browser app</a>
                <a href="../app/embeddings/index.html">Embeddings browser</a>
                <a href="https://docs.google.com/presentation/d/1XrbLle8gVQQcoT8IzpIfll4VnUl_68mQVTa6cIzN2vs/edit?usp=sharing" target="_blank" rel="noopener noreferrer">Project presentation slides</a>
            </div>

            <h3>Data Curation Model</h3>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>Curated Asset</th>
                        <th>Purpose</th>
                        <th>Location (GitHub)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Disease records</td>
                        <td>Primary YAML source of truth for pathophysiology, phenotypes, genetics, treatments, and evidence.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/kb/disorders" target="_blank" rel="noopener noreferrer"><code>kb/disorders/</code></a></td>
                    </tr>
                    <tr>
                        <td>Comorbidity records</td>
                        <td>Structured associations between conditions with mechanistic and evidence context.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/kb/comorbidities" target="_blank" rel="noopener noreferrer"><code>kb/comorbidities/</code></a></td>
                    </tr>
                    <tr>
                        <td>Disease model schema</td>
                        <td>Defines required structure, allowed terms, and evidence object model.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/src/dismech/schema/dismech.yaml" target="_blank" rel="noopener noreferrer"><code>src/dismech/schema/dismech.yaml</code></a></td>
                    </tr>
                    <tr>
                        <td>Evidence cache</td>
                        <td>Local reference cache used for repeatable citation/snippet validation.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/references_cache" target="_blank" rel="noopener noreferrer"><code>references_cache/</code></a></td>
                    </tr>
                </tbody>
            </table>

            <h3>Evidence and Provenance Workflow</h3>
            <ul>
                <li>Assertions use explicit support status (<code>SUPPORT</code>, <code>PARTIAL</code>, <code>REFUTE</code>, etc.) and evidence source categories.</li>
                <li>Reference snippets are validated against source text to reduce hallucinated evidence.</li>
                <li>Curation quality is monitored through schema checks, ontology checks, and reference checks.</li>
            </ul>
<pre><code># Validate one disease file end-to-end
just validate kb/disorders/Some_Disease.yaml

# Validate reference snippets against source content
just validate-references kb/disorders/Some_Disease.yaml

# Run cross-project quality checks
just qc
just compliance-all
just compliance-weighted</code></pre>
            <p>
                Related guidance on hallucination-resistant evidence:
                <a href="https://ai4curation.io/aidocs/how-tos/make-ids-hallucination-resistant/" target="_blank" rel="noopener noreferrer">AI4Curation: Make IDs Hallucination-Resistant</a>.
            </p>

            <h3>Contributor Path</h3>
            <p>
                Contribute by curating YAML records, running validations, and submitting pull requests with evidence-backed updates.
                Start here:
                <a href="https://github.com/monarch-initiative/dismech/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer"><code>CONTRIBUTING.md</code></a>.
            </p>
            <p>
                Open issues and curation priorities:
                <a href="https://github.com/monarch-initiative/dismech/issues" target="_blank" rel="noopener noreferrer">GitHub Issues</a>.
            </p>
        </section>

        <section class="section" id="technical-implementation">
            <h2>Technical Implementation</h2>
            <p>
                Dismech combines deterministic validation/build infrastructure with agentic research and curation workflows.
                This section maps architecture components to concrete repository files and external tooling.
            </p>

            <h3>Core Tools Used in This Project</h3>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>Tool</th>
                        <th>Brief Explanation</th>
                        <th>How It Is Used Here</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="https://www.anthropic.com/claude-code" target="_blank" rel="noopener noreferrer">Claude and Claude Code</a></td>
                        <td>LLM assistant tooling used for guided curation, review responses, and targeted repository edits.</td>
                        <td>
                            Integrated via GitHub workflows such as
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/claude.yml" target="_blank" rel="noopener noreferrer"><code>claude.yml</code></a>
                            and
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/claude-code-review.yml" target="_blank" rel="noopener noreferrer"><code>claude-code-review.yml</code></a>.
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/dragon-ai.yml" target="_blank" rel="noopener noreferrer">DRAGON-AI</a></td>
                        <td>An ontology-aware agent workflow used for repository interactions and follow-up edits triggered from collaboration events.</td>
                        <td>
                            Configured in
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/dragon-ai.yml" target="_blank" rel="noopener noreferrer"><code>.github/workflows/dragon-ai.yml</code></a>
                            for mention-driven issue/PR/review processing.
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/deep-research-client" target="_blank" rel="noopener noreferrer">Deep Research Agents (Edison, OpenAI, Perplexity)</a></td>
                        <td>Provider-based research agents used to populate initial evidence candidates before structured curation and validation.</td>
                        <td>
                            Run through
                            <a href="https://github.com/monarch-initiative/deep-research-client" target="_blank" rel="noopener noreferrer">Deep Research Client</a>
                            and project commands in
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/project.justfile" target="_blank" rel="noopener noreferrer"><code>project.justfile</code></a>
                            (for example, <code>just research-disorder perplexity ...</code> or <code>just research-disorder openai ...</code>).
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions</a></td>
                        <td>Automation platform for CI checks, scheduled compliance runs, page generation, deploys, and release exports.</td>
                        <td>
                            Workflow definitions are maintained in
                            <a href="https://github.com/monarch-initiative/dismech/tree/main/.github/workflows" target="_blank" rel="noopener noreferrer"><code>.github/workflows/</code></a>,
                            including build/test, generation, weekly compliance, and agent workflows.
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/casey/just" target="_blank" rel="noopener noreferrer">Just and Justfiles</a></td>
                        <td>A command runner for repeatable project tasks, similar to lightweight build recipes.</td>
                        <td>
                            Project commands for validation, page generation, QC dashboards, research, and exports are defined in
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/project.justfile" target="_blank" rel="noopener noreferrer"><code>project.justfile</code></a>
                            and imported via
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/justfile" target="_blank" rel="noopener noreferrer"><code>justfile</code></a>.
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://incatools.github.io/ontology-access-kit/" target="_blank" rel="noopener noreferrer">OAK (Ontology Access Kit)</a></td>
                        <td>A unified API/toolkit for ontology lookup, traversal, and term validation across ontology sources.</td>
                        <td>
                            OAK adapters are configured in
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/conf/oak_config.yaml" target="_blank" rel="noopener noreferrer"><code>conf/oak_config.yaml</code></a>
                            and used by LinkML term-validation steps to check IDs/labels in curated records.
                        </td>
                    </tr>
                    <tr>
                        <td><a href="https://linkml.io/linkml/" target="_blank" rel="noopener noreferrer">LinkML Language and Tooling</a></td>
                        <td>A data modeling language and ecosystem for defining schemas, generating artifacts, and validating data.</td>
                        <td>
                            The core model is defined in
                            <a href="https://github.com/monarch-initiative/dismech/blob/main/src/dismech/schema/dismech.yaml" target="_blank" rel="noopener noreferrer"><code>src/dismech/schema/dismech.yaml</code></a>;
                            Dismech uses LinkML validators (schema, term, and reference validation) and related tooling in the QC pipeline.
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>Architecture: Foundational and Agentic Components</h3>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>Layer</th>
                        <th>What It Does</th>
                        <th>Implementation Link</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Data model</td>
                        <td>Disease classes, slots, enums, descriptor bindings, evidence model.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/src/dismech/schema/dismech.yaml" target="_blank" rel="noopener noreferrer"><code>src/dismech/schema/dismech.yaml</code></a></td>
                    </tr>
                    <tr>
                        <td>Knowledge content</td>
                        <td>Curated disease and comorbidity records in YAML.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/kb" target="_blank" rel="noopener noreferrer"><code>kb/</code></a></td>
                    </tr>
                    <tr>
                        <td>Ontology adapters</td>
                        <td>OAK-backed ontology resolution and term validation configuration.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/conf/oak_config.yaml" target="_blank" rel="noopener noreferrer"><code>conf/oak_config.yaml</code></a></td>
                    </tr>
                    <tr>
                        <td>Rendering pipeline</td>
                        <td>Generates disorder/comorbidity/classification pages and causal graph views.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/src/dismech/render.py" target="_blank" rel="noopener noreferrer"><code>src/dismech/render.py</code></a></td>
                    </tr>
                    <tr>
                        <td>Browser UI</td>
                        <td>Faceted search app, schema-driven field config, generated records.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/app" target="_blank" rel="noopener noreferrer"><code>app/</code></a></td>
                    </tr>
                    <tr>
                        <td>Commands and recipes</td>
                        <td>Validation, generation, research, and export task entry points.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/project.justfile" target="_blank" rel="noopener noreferrer"><code>project.justfile</code></a></td>
                    </tr>
                    <tr>
                        <td>Automation workflows</td>
                        <td>CI, page generation, compliance loops, docs deploy, release exports.</td>
                        <td><a href="https://github.com/monarch-initiative/dismech/tree/main/.github/workflows" target="_blank" rel="noopener noreferrer"><code>.github/workflows/</code></a></td>
                    </tr>
                    <tr>
                        <td>Agentic research integration</td>
                        <td>Provider-based deep research report generation used in curation loops.</td>
                        <td><a href="https://github.com/monarch-initiative/deep-research-client" target="_blank" rel="noopener noreferrer">Deep Research Client</a></td>
                    </tr>
                </tbody>
            </table>

            <h3>Build and Validation Commands</h3>
<pre><code># Validate all disorders (schema + terms + references + deep-research QC)
just qc

# Generate pages and browser data
just gen-pages
just gen-browser-data
just gen-all

# Generate compliance dashboard
just gen-dashboard

# Export KGX
just export-kgx</code></pre>

            <h3>Automation Workflows</h3>
            <p>
                The workflow layer is more than standard CI. It combines deterministic quality gates with recurring
                agent-assisted maintenance loops, then routes results back through normal PR review.
            </p>
            <table class="detail-table">
                <thead>
                    <tr>
                        <th>Workflow</th>
                        <th>Trigger and Scope</th>
                        <th>Automated Actions</th>
                        <th>Human Touchpoint</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/main.yaml" target="_blank" rel="noopener noreferrer"><code>main.yaml</code></a></td>
                        <td>Push to <code>main</code> and all PRs; path-filtered to changed source, disorder YAML, and comorbidity YAML.</td>
                        <td>Runs linting, validates only changed disorder/comorbidity files with project recipes, and runs tests when source code changes.</td>
                        <td>Reviewers inspect failing/passing checks and request edits before merge.</td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/generate-pages.yaml" target="_blank" rel="noopener noreferrer"><code>generate-pages.yaml</code></a></td>
                        <td>Push to <code>main</code> when KB/templates/render/export/QC config changes, plus manual dispatch.</td>
                        <td>Regenerates disorder/comorbidity pages, browser data, and dashboard; commits outputs and opens an automated PR when diffs exist.</td>
                        <td>Maintainers review generated-content PRs and spot-check render/dashboard correctness.</td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/weekly-compliance.yaml" target="_blank" rel="noopener noreferrer"><code>weekly-compliance.yaml</code></a></td>
                        <td>Weekly cron plus manual dispatch with inputs (<code>num_files</code>, <code>areas_for_improvement</code>, model).</td>
                        <td>Runs agentic compliance-improvement passes using compliance metrics and validation loops, then prepares per-file fix PRs.</td>
                        <td>Humans choose focus areas, review generated fixes, and merge or request correction.</td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/post-review-agent.yml" target="_blank" rel="noopener noreferrer"><code>post-review-agent.yml</code></a></td>
                        <td>Daily cron plus manual dispatch (<code>days_back</code>, <code>dry_run</code>, optional PR number, model choice).</td>
                        <td>Scans unresolved editorial review comments and chooses one action: suggested patch, thread reply, or new issue for broader work.</td>
                        <td>PR authors accept/reject suggested changes and continue discussion in review threads.</td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/dragon-ai.yml" target="_blank" rel="noopener noreferrer"><code>dragon-ai.yml</code></a></td>
                        <td>Issue/PR/comment events; runs only on qualifying mentions from allowlisted controllers.</td>
                        <td>Parses mention intent, builds a structured prompt, and runs headless agent execution tied to GitHub context.</td>
                        <td>Controllers direct tasks in threads; maintainers review resulting changes/PRs.</td>
                    </tr>
                    <tr>
                        <td><a href="https://github.com/monarch-initiative/dismech/blob/main/.github/workflows/kgx-release.yaml" target="_blank" rel="noopener noreferrer"><code>kgx-release.yaml</code></a></td>
                        <td>Release-oriented export flow.</td>
                        <td>Builds KGX export artifacts and attaches versioned outputs to releases.</td>
                        <td>Release maintainers verify export quality and publish release notes/artifacts.</td>
                    </tr>
                </tbody>
            </table>
            <div class="callout">
                Distinctive pattern: validation and generation are continuous, but every meaningful content change still passes through transparent GitHub PR review with explicit provenance and evidence checks.
            </div>

            <h3>Related Tooling and Integrations</h3>
            <div class="toc">
                <a href="https://github.com/casey/just" target="_blank" rel="noopener noreferrer">Just</a>
                <a href="https://incatools.github.io/ontology-access-kit/" target="_blank" rel="noopener noreferrer">Ontology Access Kit (OAK)</a>
                <a href="https://linkml.io/linkml/" target="_blank" rel="noopener noreferrer">LinkML</a>
                <a href="https://github.com/linkml/linkml-reference-validator" target="_blank" rel="noopener noreferrer">LinkML Reference Validator</a>
                <a href="https://github.com/linkml/linkml-term-validator" target="_blank" rel="noopener noreferrer">LinkML Term Validator</a>
                <a href="https://github.com/linkml/linkml-embeddings-explorer" target="_blank" rel="noopener noreferrer">LinkML Embeddings Explorer</a>
                <a href="https://github.com/linkml/linkml-browser" target="_blank" rel="noopener noreferrer">LinkML Browser</a>
                <a href="https://github.com/monarch-initiative/deep-research-client" target="_blank" rel="noopener noreferrer">Deep Research Client</a>
            </div>
        </section>
    </main>

    <footer class="footer">
        Part of the <a href="https://monarchinitiative.org" target="_blank" rel="noopener noreferrer">Monarch Initiative</a>.
    </footer>
</body>
</html>
